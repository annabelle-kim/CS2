<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Box Dimensions</title>
</head>
<body style="background-color: rgb(234, 250, 255);"></body>
    <h1 style="border:2px solid rgb(81, 81, 199);">Post Office</h1>
    <form id="boxForm">
        <label for="length"> <p style="color: navy;">Length:</p></label>
        <input type="number" id="length" name="length" step="0.01"><br><br>

        <label for="height"><p style="color: navy;">Height:</p></label>
        <input type="number" id="height" name="height" step="0.01"><br><br>
        
        <label for="thickness"><p style="color: navy;">Thickness:</p></label>
        <input type="number" id="thickness" name="thickness" step="0.001"><br><br>
        
        <label for="zipFrom"><p style="color: navy;">Zip From:</p></label>
        <input type="number" id="zipFrom" name="zipFrom" step="1"><br><br>
        
        <label for="zipTo"><p style="color: navy;">Zip To:</p></label>
        <input type="number" id="zipTo" name="zipTo" step="1"><br><br>
        

        <button onclick="main()"><p style="color: navy;">Submit</p></button>
    </form>

    <script>
        function getType(length,height,thickness) {
            if ((3.5 <= length && length <= 4.25) && (3.5 <= height && height <= 6) && (.007 <= thickness && thickness <= .016)) {
                return "regular post card";
            }else if ((4.25 < length && length < 6) && (6 < height && height < 11.5) && (.007 <= thickness && thickness <= .015)){
                return "large post card";
            }else if ((3.5 <= length && length <= 6.125) && (5 <= height && height <= 11.5) && (.016 < thickness && thickness < .25)){
                return "envelope";
            }else if ((6.125 < length && length < 24) && (11 <= height && height <= 18) && (.25 <= thickness && thickness <= .5)){
                return "large envelope";
            }else if ((length > 24 || height > 18 || thickness > .5) && (length+2*(height+thickness) <= 84)){
                return "package";
            }else if ((length > 24 || height > 18 || thickness > .5) && (84 < length+2*(height+thickness) <= 130)){
                return "large package";
            }else{
                return "UNMAILABLE";
            }}



        
        function getPrice(postType, distance){
            if (postType == "UNMAILABLE" || distance == 'UNMAILABLE'){
                return "UNMAILABLE";
            }else if (postType == "regular post card"){
                return .2 + .03*distance;
            }else if (postType == "large post card"){
                return .37 + .03*distance;
            }else if (postType == "envelope"){
                return .37 + .04*distance;
            }else if (postType == "large envelope"){
                return .6 + .05*distance;
            }else if (postType == "package"){
                return 2.95 + .25*distance;
            }else if (postType == "large package"){
                return 3.95 + .35*distance;
            }}

        function removeLeadingZeros(cost){
            newcost = cost;
            return newcost;
        }
        /**
         * Function to get zip information
         * @param {number} zip - The zip code
         */
        function getZone (zipcode){
            if (1 <= zipcode && zipcode <= 6999){
                return 1;
            }else if (7000 <= zipcode && zipcode <= 19999){
                return 2;
            }else if (20000 <= zipcode && zipcode <= 35999){
                return 3;
            }else if (36000 <= zipcode && zipcode <= 62999){
                return 4;
            }else if (63000 <= zipcode && zipcode <= 84999){
                return 5;
            }else if (85000 <= zipcode && zipcode <= 99999){
                return 6;
            }else{
                return "UNMAILABLE";
            }}

        /**
         * Function to calculate distance based on dimensions
         * @param {number} length - The length of the box
         * @param {number} height - The height of the box
         * @param {number} thickness - The thickness of the box
         */
        function getDistance(startzip, endzip){
            var startzone = getZone(startzip);
            var endzone = getZone(endzip);
            
            if (startzone == 'UNMAILABLE' || endzone == 'UNMAILABLE'){
                return 'UNMAILABLE';
            } return Math.abs(startzone-endzone);
            }

        /**
         * Main function to read in the data from the form
         */
        function main() {
            // Read in the data from the form
            const length = parseFloat(document.getElementById('length').value);
            const height = parseFloat(document.getElementById('height').value);
            const thickness = parseFloat(document.getElementById('thickness').value);
            const zipFrom = parseInt(document.getElementById('zipFrom').value);
            const zipTo = parseInt(document.getElementById('zipTo').value);

            var distance = getDistance(zipFrom, zipTo);
            var postType = getType(length, height, thickness);
            var cost = getPrice(postType, distance);
            alert(cost.toFixed(2).toString().replace(/^0+/, ''));
        }

    </script>
</body>
</html>